import{k as f,u as x,r as t,n as p,j as s,N as j,E as v,m as d,F as w}from"./Notification-utpFNeIo.js";function L(){const n=f(),{currentUser:o,isLoading:m,fetchUserInfo:i}=x();t.useState({file:null,url:""});const[r,l]=t.useState(!1),u=async e=>{e.preventDefault(),l(!0);const a=new FormData(e.target),{email:g,password:h}=Object.fromEntries(a);try{await v(d,g,h).then(()=>{n("/")})}catch(c){console.log(c),w.error(c.message)}finally{l(!1)}};return t.useEffect(()=>{const e=p(d,a=>{i(a==null?void 0:a.uid)});return()=>{e()}},[i]),console.log(o),m?s.jsx("div",{className:"loading",children:"Loading..."}):s.jsxs(s.Fragment,{children:[o?n("/"):s.jsxs("div",{className:"login",children:[s.jsxs("div",{className:"item",children:[s.jsx("h2",{children:"Welcome back,"}),s.jsxs("form",{onSubmit:u,children:[s.jsx("input",{type:"text",placeholder:"Email",name:"email"}),s.jsx("input",{type:"password",placeholder:"Password",name:"password"}),s.jsx("button",{disabled:r,children:r?"Loading":"Sign In"})]})]}),s.jsx("div",{className:"separator"})]}),s.jsx(j,{})]})}export{L};

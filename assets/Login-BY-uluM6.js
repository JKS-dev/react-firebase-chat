import{r as t,j as s}from"./jsx-runtime-D2HyDbKh.js";import{i as f,u as p,l as x,N as j,z as v,k as d,B as w}from"./Notification-BXF5AXqz.js";function S(){const n=f(),{currentUser:o,isLoading:m,fetchUserInfo:i}=p();t.useState({file:null,url:""});const[r,l]=t.useState(!1),u=async e=>{e.preventDefault(),l(!0);const a=new FormData(e.target),{email:g,password:h}=Object.fromEntries(a);try{await v(d,g,h).then(()=>{n("/")})}catch(c){console.log(c),w.error(c.message)}finally{l(!1)}};return t.useEffect(()=>{const e=x(d,a=>{i(a==null?void 0:a.uid)});return()=>{e()}},[i]),console.log(o),m?s.jsx("div",{className:"loading",children:"Loading..."}):s.jsxs(s.Fragment,{children:[o?n("/"):s.jsxs("div",{className:"login",children:[s.jsxs("div",{className:"item",children:[s.jsx("h2",{children:"Welcome back,"}),s.jsxs("form",{onSubmit:u,children:[s.jsx("input",{type:"text",placeholder:"Email",name:"email"}),s.jsx("input",{type:"password",placeholder:"Password",name:"password"}),s.jsx("button",{disabled:r,children:r?"Loading":"Sign In"})]})]}),s.jsx("div",{className:"separator"})]}),s.jsx(j,{})]})}export{S as L};
